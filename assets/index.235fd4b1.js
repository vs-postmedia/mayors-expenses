(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function T(){}function ge(e,t){for(const n in t)e[n]=t[n];return e}function oe(e){return e()}function Y(){return Object.create(null)}function M(e){e.forEach(oe)}function re(e){return typeof e=="function"}function V(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let $;function ye(e,t){return $||($=document.createElement("a")),$.href=t,e===$.href}function be(e){return Object.keys(e).length===0}function _e(e,t,n,o){if(e){const r=ie(e,t,n,o);return e[0](r)}}function ie(e,t,n,o){return e[1]&&o?ge(n.ctx.slice(),e[1](o(t))):n.ctx}function xe(e,t,n,o){if(e[2]&&o){const r=e[2](o(n));if(t.dirty===void 0)return r;if(typeof r=="object"){const i=[],s=Math.max(t.dirty.length,r.length);for(let a=0;a<s;a+=1)i[a]=t.dirty[a]|r[a];return i}return t.dirty|r}return t.dirty}function ve(e,t,n,o,r,i){if(r){const s=ie(t,n,o,i);e.p(s,r)}}function we(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let o=0;o<n;o++)t[o]=-1;return t}return-1}function x(e,t){e.appendChild(t)}function w(e,t,n){e.insertBefore(t,n||null)}function v(e){e.parentNode&&e.parentNode.removeChild(e)}function Be(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function h(e){return document.createElement(e)}function se(e){return document.createTextNode(e)}function z(){return se(" ")}function Se(){return se("")}function _(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function ke(e){return Array.from(e.childNodes)}function A(e,t,n,o){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,o?"important":"")}function Z(e,t,n){e.classList[n?"add":"remove"](t)}let F;function D(e){F=e}function Ce(){if(!F)throw new Error("Function called outside component initialization");return F}function Ee(e){Ce().$$.on_mount.push(e)}const C=[],I=[];let E=[];const j=[],Ae=Promise.resolve();let H=!1;function ze(){H||(H=!0,Ae.then(ae))}function P(e){E.push(e)}function le(e){j.push(e)}const R=new Set;let k=0;function ae(){if(k!==0)return;const e=F;do{try{for(;k<C.length;){const t=C[k];k++,D(t),De(t.$$)}}catch(t){throw C.length=0,k=0,t}for(D(null),C.length=0,k=0;I.length;)I.pop()();for(let t=0;t<E.length;t+=1){const n=E[t];R.has(n)||(R.add(n),n())}E.length=0}while(C.length);for(;j.length;)j.pop()();H=!1,R.clear(),D(e)}function De(e){if(e.fragment!==null){e.update(),M(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(P)}}function Fe(e){const t=[],n=[];E.forEach(o=>e.indexOf(o)===-1?t.push(o):n.push(o)),n.forEach(o=>o()),E=t}const L=new Set;let Ie;function O(e,t){e&&e.i&&(L.delete(e),e.i(t))}function U(e,t,n,o){if(e&&e.o){if(L.has(e))return;L.add(e),Ie.c.push(()=>{L.delete(e),o&&(n&&e.d(1),o())}),e.o(t)}else o&&o()}function ce(e,t,n){const o=e.$$.props[t];o!==void 0&&(e.$$.bound[o]=n,n(e.$$.ctx[o]))}function ue(e){e&&e.c()}function K(e,t,n,o){const{fragment:r,after_update:i}=e.$$;r&&r.m(t,n),o||P(()=>{const s=e.$$.on_mount.map(oe).filter(re);e.$$.on_destroy?e.$$.on_destroy.push(...s):M(s),e.$$.on_mount=[]}),i.forEach(P)}function G(e,t){const n=e.$$;n.fragment!==null&&(Fe(n.after_update),M(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function qe(e,t){e.$$.dirty[0]===-1&&(C.push(e),ze(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function J(e,t,n,o,r,i,s,a=[-1]){const f=F;D(e);const c=e.$$={fragment:null,ctx:[],props:i,update:T,not_equal:r,bound:Y(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(f?f.$$.context:[])),callbacks:Y(),dirty:a,skip_bound:!1,root:t.target||f.$$.root};s&&s(c.root);let d=!1;if(c.ctx=n?n(e,t.props||{},(p,g,...y)=>{const m=y.length?y[0]:g;return c.ctx&&r(c.ctx[p],c.ctx[p]=m)&&(!c.skip_bound&&c.bound[p]&&c.bound[p](m),d&&qe(e,p)),g}):[],c.update(),d=!0,M(c.before_update),c.fragment=o?o(c.ctx):!1,t.target){if(t.hydrate){const p=ke(t.target);c.fragment&&c.fragment.l(p),p.forEach(v)}else c.fragment&&c.fragment.c();t.intro&&O(e.$$.fragment),K(e,t.target,t.anchor,t.customElement),ae()}D(f)}class Q{$destroy(){G(this,1),this.$destroy=T}$on(t,n){if(!re(n))return T;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{const r=o.indexOf(n);r!==-1&&o.splice(r,1)}}$set(t){this.$$set&&!be(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ee=['#1: Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. <span class="scroll-more">Scroll for more...</span>',"#2: Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.","#3: A lawsuit against the mayor\u2019s office was the source of most of 2024\u2019s expenses","#4: In 2024, 96% of transport costs were for a charter vehicle for staff use. Charges from previous administrations were mainly for taxis, EVOs and transit."];function $e(e){let t,n;const o=e[7].default,r=_e(o,e,e[6],null);return{c(){t=h("div"),r&&r.c()},m(i,s){w(i,t,s),r&&r.m(t,null),e[8](t),n=!0},p(i,[s]){r&&r.p&&(!n||s&64)&&ve(r,o,i,i[6],n?xe(o,i[6],s,null):we(i[6]),null)},i(i){n||(O(r,i),n=!0)},o(i){U(r,i),n=!1},d(i){i&&v(t),r&&r.d(i),e[8](null)}}}function Le(e,t,n){let{$$slots:o={},$$scope:r}=t,{root:i=null}=t,{top:s=0}=t,{bottom:a=0}=t,{increments:f=100}=t,{value:c=void 0}=t;const d=[],p=[];let g=[],y=[],m;const B=()=>{!g.length||g.forEach(q)},N=()=>{let l=0,b=0;for(let S=0;S<d.length;S++)d[S]>l&&(l=d[S],b=S);l>0?n(1,c=b):n(1,c=void 0)},q=(l,b)=>{const S=X=>{X[0].isIntersecting;const he=X[0].intersectionRatio;d[b]=he,N()},fe=s?s*-1:0,pe=a?a*-1:0,de=`${fe}px 0px ${pe}px 0px`,me={root:i,rootMargin:de,threshold:p};y[b]&&y[b].disconnect();const W=new IntersectionObserver(S,me);W.observe(l),y[b]=W};Ee(()=>{for(let l=0;l<f+1;l++)p.push(l/f);g=m.querySelectorAll(":scope > *"),B()});function u(l){I[l?"unshift":"push"](()=>{m=l,n(0,m)})}return e.$$set=l=>{"root"in l&&n(2,i=l.root),"top"in l&&n(3,s=l.top),"bottom"in l&&n(4,a=l.bottom),"increments"in l&&n(5,f=l.increments),"value"in l&&n(1,c=l.value),"$$scope"in l&&n(6,r=l.$$scope)},e.$$.update=()=>{e.$$.dirty&24&&B()},[m,c,i,s,a,f,r,o,u]}class Me extends Q{constructor(t){super(),J(this,t,Le,$e,V,{root:2,top:3,bottom:4,increments:5,value:1})}}function te(e,t,n){const o=e.slice();return o[2]=t[n],o[4]=n,o}function ne(e){let t,n,o,r=e[2]+"",i;return{c(){t=h("li"),n=h("div"),o=h("p"),i=z(),_(n,"class","step-content svelte-1cz9r95"),_(t,"class","step svelte-1cz9r95"),Z(t,"active",e[0]===e[4])},m(s,a){w(s,t,a),x(t,n),x(n,o),o.innerHTML=r,x(t,i)},p(s,a){a&1&&Z(t,"active",s[0]===s[4])},d(s){s&&v(t)}}}function Oe(e){let t,n=ee,o=[];for(let r=0;r<n.length;r+=1)o[r]=ne(te(e,n,r));return{c(){for(let r=0;r<o.length;r+=1)o[r].c();t=Se()},m(r,i){for(let s=0;s<o.length;s+=1)o[s]&&o[s].m(r,i);w(r,t,i)},p(r,i){if(i&1){n=ee;let s;for(s=0;s<n.length;s+=1){const a=te(r,n,s);o[s]?o[s].p(a,i):(o[s]=ne(a),o[s].c(),o[s].m(t.parentNode,t))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(r){Be(o,r),r&&v(t)}}}function Ne(e){let t,n,o;function r(s){e[1](s)}let i={$$slots:{default:[Oe]},$$scope:{ctx:e}};return e[0]!==void 0&&(i.value=e[0]),t=new Me({props:i}),I.push(()=>ce(t,"value",r)),{c(){ue(t.$$.fragment)},m(s,a){K(t,s,a),o=!0},p(s,[a]){const f={};a&33&&(f.$$scope={dirty:a,ctx:s}),!n&&a&1&&(n=!0,f.value=s[0],le(()=>n=!1)),t.$set(f)},i(s){o||(O(t.$$.fragment,s),o=!0)},o(s){U(t.$$.fragment,s),o=!1},d(s){G(t,s)}}}function Re(e,t,n){let{currentStep:o}=t;function r(i){o=i,n(0,o)}return e.$$set=i=>{"currentStep"in i&&n(0,o=i.currentStep)},[o,r]}class Te extends Q{constructor(t){super(),J(this,t,Re,Ne,V,{currentStep:0})}}function je(e){let t,n,o,r,i,s,a,f,c,d,p,g,y,m,B;function N(u){e[1](u)}let q={};return e[0]!==void 0&&(q.currentStep=e[0]),p=new Te({props:q}),I.push(()=>ce(p,"currentStep",N)),{c(){t=h("section"),n=h("header"),n.innerHTML=`<h1>Office expenses growing under Sim administration</h1> 
        <p class="subhead">Annual expenses from the Mayors office for the city of Vancouver.</p>`,o=z(),r=h("div"),i=h("iframe"),a=z(),f=h("div"),f.innerHTML='<a class="flourish-credit" href="https://public.flourish.studio/visualisation/3706064/?utm_source=embed&amp;utm_campaign=visualisation/3706064" target="_top" style="text-decoration:none!important"><img alt="Made with Flourish" src="https://public.flourish.studio/resources/made_with_flourish.svg" style="width:105px!important;height:16px!important;border:none!important;margin:0!important;"/></a>',c=z(),d=h("ul"),ue(p.$$.fragment),y=z(),m=h("footer"),m.innerHTML=`<p class="source">Source:
        <a href="https://opendata.vancouver.ca/explore/dataset/council-budget-and-expenses/table/?sort=year" target="_blank">City of Vancouver</a></p> 
    
    <div style="width:100%!;margin-top:4px!important;text-align:right!important;"><a class="flourish-credit" href="https://public.flourish.studio/visualisation/3706064/?utm_source=embed&amp;utm_campaign=visualisation/3706064" target="_top" style="text-decoration:none!important"><img alt="Made with Flourish" src="https://public.flourish.studio/resources/made_with_flourish.svg" style="width:105px!important;height:16px!important;border:none!important;margin:0!important;"/></a></div>`,ye(i.src,s=Pe)||_(i,"src",s),_(i,"frameborder","0"),_(i,"scrolling","no"),A(i,"width","100%"),A(i,"height",He),_(i,"title","flourish-embed"),_(r,"class","chart sticky svelte-1cq5eoo"),A(f,"width","100%!"),A(f,"margin-top","4px",1),A(f,"text-align","right",1),_(t,"class","scrollyteller sticky svelte-1cq5eoo"),_(d,"class","steps svelte-1cq5eoo")},m(u,l){w(u,t,l),x(t,n),x(t,o),x(t,r),x(r,i),x(t,a),x(t,f),w(u,c,l),w(u,d,l),K(p,d,null),w(u,y,l),w(u,m,l),B=!0},p(u,[l]){const b={};!g&&l&1&&(g=!0,b.currentStep=u[0],le(()=>g=!1)),p.$set(b)},i(u){B||(O(p.$$.fragment,u),B=!0)},o(u){U(p.$$.fragment,u),B=!1},d(u){u&&v(t),u&&v(c),u&&v(d),G(p),u&&v(y),u&&v(m)}}}const He="575px",Pe="https://flo.uri.sh/story/3182108/embed";function Ve(e,t,n){let o,r;const i=function(a){r=document.querySelector("#app .chart > iframe"),r.src=r.src.replace(/#slide-.*/,"")+"#slide-"+a};function s(a){o=a,n(0,o)}return e.$$.update=()=>{e.$$.dirty&1&&(o===0||o===1||o===2||o===3)&&i(o)},[o,s]}class Ue extends Q{constructor(t){super(),J(this,t,Ve,je,V,{})}}new Ue({target:document.getElementById("app")});
